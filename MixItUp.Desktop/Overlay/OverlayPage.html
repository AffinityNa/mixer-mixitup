<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8" />
    </head>
    <body style="background-color:transparent">
        <div id="mainOverlay" />

		<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
		<script>
			var mainOverlayDiv = document.getElementById('mainOverlay');

			var connection = new WebSocket("ws://localhost:8111/ws/");

			// When the connection is open, send some data to the server
			connection.onopen = function () {
				connection.send('Ping'); // Send the message 'Ping' to the server
			};

			// Log errors
			connection.onerror = function (error) {
				console.log('WebSocket Error ' + error);
			};

			// Log messages from the server
			connection.onmessage = function (e) {
				console.log('Server: ' + e.data);
			};
			
			function getDataFromJSON(packet)
			{
				try
				{
					if (packet != null)
					{
						return JSON.parse(packet);
					}
				}
				catch (err) { console.log(err); }
				return null;
			}

			function addWaitRemoveElement(data, addedElement)
			{
				if (addedElement != null)
				{
					addedElement.style.cssText += 'position: absolute; left: ' + data.horizontal.toString() + '%; top: ' +
						data.vertical.toString() + '%; transform: translate(-50%, -50%);'

					mainOverlayDiv.appendChild(addedElement);

					setTimeout(function ()
					{
						mainOverlayDiv.removeChild(addedElement);
					}, data.duration * 1000);
				}
			}
		</script>
    </body>
</html>